# printf是用户调用还是系统调用？

首先 printf显然不是系统调用，printf用户调用，然后执行封装例程中的int 0x80指令，到此都是**用户态**，然后再进入内核

## linux调用的过程

1）首先有封装例程设置系统调用功能号和参数，并存到相应寄存器中；
2）执行封装例程中的int 0x80指令，系统产生软中断（或陷入），由中断硬件完成部分现场信息保护：PSW的值和PC寄存器的值；并通过中断向量转向一个中断处理程序system_call()完成其他CPU现场信息的保存：如陷入类型、参数表指针、其他CPU寄存器的值等；
3）使用系统调用功能号查找系统调用入口表，找到相应系统调用的服务例程的入口地址sys_printf()；
4）执行系统调用服务例程sys_printf()，完毕后返回执行成功与否以及成功时的执行结果给调用者；恢复被中断进程或新调度进程的CPU现场，返回被中断进程或新调度进程执行。

## printf调用过程